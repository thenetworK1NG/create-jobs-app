<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task Creator</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Task Creator</h1>
            <p>Create and manage tasks through API</p>
        </header>

        <div class="cors-warning">
            <h3>‚ö†Ô∏è CORS Notice</h3>
            <p>If you get CORS errors, try one of these solutions:</p>
            <ul>
                <li><strong>Option 1:</strong> Use a CORS proxy (built-in button below)</li>
                <li><strong>Option 2:</strong> Serve this file from a local web server</li>
                <li><strong>Option 3:</strong> Use browser extensions to disable CORS</li>
                <li><strong>Option 4:</strong> Configure your API server to allow CORS</li>
            </ul>
        </div>

        <div class="form-container">
            <form id="taskForm">
                <div class="form-group">
                    <label for="useCorsProxy">
                        <input type="checkbox" id="useCorsProxy"> Use CORS Proxy (helps with CORS issues)
                    </label>
                </div>

                <div class="form-group">
                    <label for="corsProxyUrl">CORS Proxy Service:</label>
                    <select id="corsProxyUrl">
                        <option value="http://localhost:8001/?url=">Local Proxy (recommended - run start-cors-proxy.bat)</option>
                        <option value="https://cors-anywhere.herokuapp.com/">CORS Anywhere (may be limited)</option>
                        <option value="https://api.allorigins.win/raw?url=">AllOrigins</option>
                        <option value="https://corsproxy.io/?">CORSProxy.io</option>
                        <option value="https://api.codetabs.com/v1/proxy?quest=">CodeTabs</option>
                        <option value="custom">Custom Proxy URL</option>
                    </select>
                </div>

                <div class="form-group" id="customProxyGroup" style="display: none;">
                    <label for="customProxyUrl">Custom Proxy URL:</label>
                    <input type="url" id="customProxyUrl" placeholder="https://your-proxy.com/">
                    <small>Enter your proxy URL (should end with / or parameter separator)</small>
                </div>

                <div class="form-group">
                    <label for="apiUrl">API URL:</label>
                    <input type="url" id="apiUrl" value="https://board.maphefosigns.co.za/jsonrpc.php" required>
                </div>

                <div class="form-group">
                    <label for="apiUsername">API Username:</label>
                    <input type="text" id="apiUsername" value="jsonrpc" required>
                </div>

                <div class="form-group">
                    <label for="apiPassword">API Token:</label>
                    <input type="password" id="apiPassword" placeholder="your_api_token_here" required>
                </div>

                <div class="form-group">
                    <label for="title">Task Title:</label>
                    <input type="text" id="title" value="Test" required>
                </div>

                <div class="form-group">
                    <label for="projectId">Project ID:</label>
                    <input type="number" id="projectId" value="1" required>
                </div>

                <div class="form-group">
                    <label for="colorId">Color:</label>
                    <select id="colorId">
                        <option value="green">Green</option>
                        <option value="red">Red</option>
                        <option value="blue">Blue</option>
                        <option value="yellow">Yellow</option>
                        <option value="orange">Orange</option>
                        <option value="purple">Purple</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="columnId">Column ID:</label>
                    <input type="number" id="columnId" value="2" required>
                </div>

                <div class="form-group">
                    <label for="ownerId">Owner ID:</label>
                    <input type="number" id="ownerId" value="1" required>
                </div>

                <div class="form-group">
                    <label for="creatorId">Creator ID:</label>
                    <input type="number" id="creatorId" value="0">
                </div>

                <div class="form-group">
                    <label for="dateDue">Due Date:</label>
                    <input type="date" id="dateDue">
                </div>

                <div class="form-group">
                    <label for="description">Description:</label>
                    <textarea id="description" rows="4" placeholder="Enter task description..."></textarea>
                </div>

                <div class="form-group">
                    <label for="categoryId">Category ID:</label>
                    <input type="number" id="categoryId" value="0">
                </div>

                <div class="form-group">
                    <label for="score">Score:</label>
                    <input type="number" id="score" value="0" min="0">
                </div>

                <div class="form-group">
                    <label for="priority">Priority:</label>
                    <select id="priority">
                        <option value="">None</option>
                        <option value="0">Low</option>
                        <option value="1">Normal</option>
                        <option value="2">High</option>
                        <option value="3">Urgent</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="reference">Reference:</label>
                    <input type="text" id="reference" placeholder="Reference ID or note">
                </div>

                <div class="form-group">
                    <label for="tags">Tags (comma-separated):</label>
                    <input type="text" id="tags" placeholder="tag1, tag2, tag3">
                </div>

                <div class="form-group">
                    <label for="dateStarted">Start Date:</label>
                    <input type="date" id="dateStarted">
                </div>

                <button type="submit" id="createTaskBtn">Create Task</button>
                
                <div class="cors-buttons">
                    <button type="button" id="testCorsBtn">Test CORS</button>
                    <button type="button" id="openServerBtn">Start Local Server</button>
                </div>
            </form>
        </div>

        <div class="server-instructions" id="serverInstructions" style="display: none;">
            <h3>üöÄ Local Server Instructions</h3>
            
            <div class="server-option">
                <h4>üéØ Best Solution: Local CORS Proxy</h4>
                <p>Run our custom CORS proxy to bypass all CORS issues:</p>
                <div class="code-block">
                    <p>1. Double-click <strong>start-cors-proxy.bat</strong></p>
                    <p>2. Check "Use CORS Proxy" in the form above</p>
                    <p>3. Select "Local Proxy" from the dropdown</p>
                    <p>4. Your requests will work perfectly!</p>
                </div>
            </div>
            
            <div class="server-option">
                <h4>üåê Alternative: Web Server</h4>
                <p>To serve this file from a local web server:</p>
                <div class="code-block">
                    <h4>Using Python (if installed):</h4>
                    <code>cd "c:\Users\Designer\Desktop\create job"</code><br>
                    <code>python -m http.server 8000</code><br>
                    <p>Then open: <a href="http://localhost:8000" target="_blank">http://localhost:8000</a></p>
                </div>
                <div class="code-block">
                    <h4>Using Node.js (if installed):</h4>
                    <code>npx http-server "c:\Users\Designer\Desktop\create job" -p 8000</code><br>
                    <p>Then open: <a href="http://localhost:8000" target="_blank">http://localhost:8000</a></p>
                </div>
            </div>
        </div>

        <div class="response-container">
            <h3>Response</h3>
            <div id="responseOutput"></div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
